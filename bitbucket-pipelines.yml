# Front end build - run gulp and check in result if different

image: node:16

pipelines:
  custom:
    build and deploy:
        - step:
            name: Build and push back deployed changes
            caches:
              - node
            script:
              - npm install gulp
              - npx gulp js css
              # These steps will do nothing if there was no change
              -  (git commit public/js public/css -m "[skip ci] Pipeline - Updated built packages"
                  && git push
                  && echo -e '\033[93mUpdated branch with new build\033[0m'
                 ) || echo -e '\033[36mNo changes\033[0m'
