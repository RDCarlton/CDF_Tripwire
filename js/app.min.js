function openSigEdit(e){return e.preventDefault(),!$(this).closest("tr").attr("disabled")&&($("#dialog-deleteSig").hasClass("ui-dialog-content")&&$("#dialog-deleteSig").dialog("isOpen")?($("#dialog-deleteSig").parent().effect("shake",300),!1):$("#dialog-sigEdit").hasClass("ui-dialog-content")&&$("#dialog-sigEdit").dialog("isOpen")?($("#dialog-sigEdit").parent().effect("shake",300),!1):($(this).closest("tr").addClass("selected"),void($("#dialog-sigEdit").hasClass("ui-dialog-content")?$("#dialog-sigEdit").dialog("isOpen")||$("#dialog-sigEdit").dialog("open"):$("#dialog-sigEdit").dialog({resizable:!1,minHeight:150,dialogClass:"ui-dialog-shadow dialog-noeffect",buttons:{Save:function(){$("#sigEditForm").submit()},Cancel:function(){$(this).dialog("close")}},open:function(){var e=$("#sigTable tr.selected").data("id");$("#sigEditForm").data("id",e);var i=tripwire.client.signatures[e];tripwire.activity.editSig=e,tripwire.refresh("refresh"),$("#autoEdit")[0].checked=!1,$("#autoEdit").button("refresh"),i.life||i.mass?(i.systemID==viewingSystemID?($("#dialog-sigEdit #sigID").val(i.signatureID),$("#dialog-sigEdit #sigType").val("Wormhole").selectmenu("refresh").trigger("selectmenuchange"),$("#dialog-sigEdit #whType").val(i.type),$("#dialog-sigEdit #connection").val(tripwire.systems[i.connectionID]?tripwire.systems[i.connectionID].name:i.connection),$("#dialog-sigEdit #whLife").val(i.life).selectmenu("refresh"),$("#dialog-sigEdit #whMass").val(i.mass).selectmenu("refresh"),$("#dialog-sigEdit [name=side]").val("parent")):($("#dialog-sigEdit #sigID").val(i.sig2ID),$("#dialog-sigEdit #sigType").val("Wormhole").selectmenu("refresh").trigger("selectmenuchange"),$("#dialog-sigEdit #whType").val(i.sig2Type),$("#dialog-sigEdit #connection").val(tripwire.systems[i.systemID]?tripwire.systems[i.systemID].name:i.system),$("#dialog-sigEdit #whLife").val(i.life).selectmenu("refresh"),$("#dialog-sigEdit #whMass").val(i.mass).selectmenu("refresh"),$("#dialog-sigEdit [name=side]").val("child")),$("#dialog-sigEdit #sigLife").val(72).selectmenu("refresh"),$("#dialog-sigEdit #sigName").val("")):($("#dialog-sigEdit #sigID").val(i.signatureID),$("#dialog-sigEdit #sigType").val("???"==i.type?"Sites":i.type).selectmenu("refresh").trigger("selectmenuchange"),$("#dialog-sigEdit #sigLife").val(i.lifeLength).selectmenu("refresh"),$("#dialog-sigEdit #sigName").val(i.name),$("#dialog-sigEdit #whType").val(""),$("#dialog-sigEdit #connection").val(""),$("#dialog-sigEdit #whLife").val("Stable").selectmenu("refresh"),$("#dialog-sigEdit #whMass").val("Stable").selectmenu("refresh"),$("#dialog-sigEdit [name=side]").val("parent")),tripwire.client.EVE&&tripwire.client.EVE.systemName?$("#autoEdit").button("enable"):$("#autoEdit").button("disable"),$("#dialog-sigEdit #sigID").select()},close:function(e,i){delete tripwire.activity.editSig,tripwire.refresh("refresh"),$(this).data("id",""),$("th.critical").removeClass("critical"),ValidationTooltips.close(),$("#sigTable tr.selected").removeClass("selected")},create:function(){$("#autoEdit").button().click(function(){$("#sigEditForm #connection").val(tripwire.client.EVE.systemName)}),$("#sigEditForm #sigType, #sigEditForm #sigLife").selectmenu({width:100}),$("#sigEditForm #whLife, #sigEditForm #whMass").selectmenu({width:80}),$("#sigEditForm .sigSystemsAutocomplete").inlinecomplete({source:tripwire.aSigSystems,maxSize:10,delay:0}),$("#sigEditForm .typesAutocomplete").inlinecomplete({source:whList,maxSize:10,delay:0}),$("#sigEditForm #whType, #sigEditForm #sigID").blur(function(e){""==this.value&&(this.value="???")}),$("#sigEditForm #whType, #sigEditForm #sigID").focus(function(e){$(this).select()})}}))))}var activity=new function(){this.graph,this.options,this.view,this.span=24,this.columns=[{id:"time",label:"Time",role:"domain",type:"string",calc:function(e,i){return e.getValue(i,0)+"h"}},{id:"jumps",label:"Jumps",role:"data",type:"number",sourceColumn:1,column:1,title:"Jumps"},{id:"podkills",label:"Pod Kills",role:"data",type:"number",sourceColumn:2,column:2,title:"Pod Kills"},{id:"shipkills",label:"Ship Kills",role:"data",type:"number",sourceColumn:3,column:3,title:"Ship Kills"},{id:"npckills",label:"NPC Kills",role:"data",type:"number",sourceColumn:4,column:4,title:"NPC Kills"}],this.getData=function(e,i){var e=void 0!==e?e:this.span,i=void 0===i||i,t=$.ajax({url:"activity_graph.php",data:{systemID:viewingSystemID,time:e},type:"GET",dataType:"JSON",async:!1,cache:i}).responseJSON;return t.rows.reverse(),this.view=new google.visualization.DataView(new google.visualization.DataTable(t)),this.view.setColumns(this.columns),this.view},this.selectHandler=function(){var e=activity.graph.getSelection();if(e[0]&&null==e[0].row){var i=e[0].column;activity.columns[i].sourceColumn?(activity.columns[i].label=activity.columns[i].title+" (off)",delete activity.columns[i].sourceColumn):(activity.columns[i].sourceColumn=activity.columns[i].column,activity.columns[i].label=activity.columns[i].title),activity.view.setColumns(activity.columns),activity.options.animation.duration=0,activity.graph.draw(activity.view,activity.options),activity.options.animation.duration=500}},this.init=function(){this.graph=new google.visualization.AreaChart(document.getElementById("activityGraph")),this.options={isStacked:!1,backgroundColor:"transparent",hAxis:{textStyle:{color:"#999",fontName:"Verdana",fontSize:10},showTextEvery:3},vAxis:{textStyle:{color:"#666",fontName:"Verdana",fontSize:10},viewWindowMode:"maximized",viewWindow:{min:0},maxValue:5},gridlineColor:"#454545",pointSize:2,lineWidth:1,chartArea:{left:"10%",top:"5%",width:"88%",height:"85%"},legend:{position:"in",textStyle:{color:"#CCC",fontName:"Verdana",fontSize:8.5}},animation:{duration:500,easing:"inAndout"},tooltip:{showColorCode:!0},annotations:{style:"line",textStyle:{fontSize:12,color:"#ccc"},domain:0},focusTarget:"category"},google.visualization.events.addListener(this.graph,"select",this.selectHandler),this.graph.draw(this.getData(this.span),this.options)},this.time=function(e){switch(e){case 24:this.options.hAxis.showTextEvery=3;break;case 48:this.options.hAxis.showTextEvery=6;break;case 168:this.options.hAxis.showTextEvery=24}this.span=e,this.graph.draw(this.getData(e),this.options)},this.redraw=function(){this.graph.draw(this.view,this.options)},this.refresh=function(e){this.graph.draw(this.getData(this.span,e),this.options)},google.setOnLoadCallback(this.init())},chain=new function(){this.map,this.view,this.options,this.drawing,this.data={},this.newView=function(e){return this.view=new google.visualization.DataView(new google.visualization.DataTable(e)),this.view},this.activity=function(e){$("#chainMap .nodeActivity > span:not(.invisible)").addClass("invisible");for(var i in e){var t=e[i].systemID,a=e[i].shipJumps,s=e[i].podKills,o=e[i].shipKills,n=e[i].npcKills,l=$("#chainMap [data-nodeid="+t+"] > .nodeActivity");a>0&&l.find(".jumps").removeClass("invisible").attr("title",a+" Jumps"),s>0&&l.find(".pods").removeClass("invisible").attr("title",s+" Pod Kills"),o>0&&l.find(".ships").removeClass("invisible").attr("title",o+" Ship Kills"),n>0&&l.find(".npcs").removeClass("invisible").attr("title",n+" NPC Kills")}return $("#chainMap .nodeActivity > span[title]").jBox("Tooltip",{position:{y:"bottom"}}),e},this.occupied=function(e){$("#chainMap [data-icon='user'], #chainMap [data-icon='user'] + .badge").addClass("invisible");for(var i in e)$("#chainMap [data-nodeid='"+e[i].systemID+"'] [data-icon='user']").removeClass("invisible"),$("#chainMap [data-nodeid='"+e[i].systemID+"'] [data-icon='user'] + .badge").removeClass("invisible").html(e[i].count);return OccupiedToolTips.attach($("#chainMap [data-icon='user']:not(.invisible)")),e},this.flares=function(e){if($("#chainMap td.node").removeClass("redNode yellowNode greenNode"),$("#chainGrid tr").removeClass("red yellow green"),e)for(var i in e.flares){var t=e.flares[i].systemID,a=e.flares[i].flare,s=($("#chainMap [data-nodeid="+t+"]").parent().addClass(a+"Node").parent().index()-1)/3*2;s>0&&$("#chainGrid tr:eq("+s+")").addClass(a).next().addClass(a)}return e},this.grid=function(){if(0==options.chain.gridlines)return $("#chainGrid tr").addClass("hidden"),!1;$("#chainGrid tr").removeClass("hidden");var e=2*$(".google-visualization-orgchart-table tr:has(.node)").length-1;$("#chainGrid tr:gt("+e+")").addClass("hidden")},this.lines=function(e){for(var i in e.lines)!function(i,t,a,s){var o=$("#chainMap #node"+i).parent();if(0==o.length)return!1;var n=Math.ceil((o[0].cellIndex+1)/2-1),l=$(o.parent().prev().children("td.google-visualization-orgchart-lineleft, td.google-visualization-orgchart-lineright")[n]).addClass("left-"+a+" right-"+a),r=$("#chainMap #node"+t).parent();if(0==r.length||0==l.length)return!1;var d=0,c=l[0].cellIndex;o.parent().prev().find("td").each(function(e){if(d+=this.colSpan,e==c)return!1});for(var p=Math.ceil((r[0].cellIndex+1)/2-1),m=p,g=0;g<=p;g++){var h=0;o.parent().prev().prev().prev().find("td > [data-nodeid]").each(function(e){if(e==g)return h=$(this).attr("id").replace("node",""),!1}),$.map(e.map.rows,function(e){return e.c[1].v==h?e:null}).length<=0&&m--}p=m;var u=$(o.parent().prev().prev().children("td.google-visualization-orgchart-lineleft, td.google-visualization-orgchart-lineright")[p]).addClass("left-"+a+" right-"+a),f=0,t=!1,v=!1;o.parent().prev().prev().find("td").each(function(e,i){if(f+=this.colSpan,v&&t)return!1;if(void 0!==u[0]&&u[0].cellIndex==e){if(t=!0,$(this).addClass("left-"+a),v||f==d||$(this).addClass("bottom-"+a),d==f)return!1}else if(f==d)v=!0,$(this).addClass("bottom-"+a);else if(v||t){var s=0,n=!1,l=!1;if(o.parent().prev().find("td").each(function(e){if((s+=this.colSpan)==f&&($(this).hasClass("google-visualization-orgchart-lineleft")||$(this).hasClass("google-visualization-orgchart-lineright"))){if(0==t)return n=!0,u.removeClass("left-"+a+" right-"+a),!1;1==t&&(u.removeClass("left-"+a+" right-"+a),o.parent().prev().prev().find("td").each(function(e){e>=u[0].cellIndex&&$(this).removeClass("bottom-"+a)}),l=!0)}}),n)return!1;l||$(this).addClass("bottom-"+a)}})}(e.lines[i][0],e.lines[i][1],e.lines[i][2],e.lines[i][3])},this.nodes=function(e){function i(e,i){if(!e||!tripwire.systems[e])return!1;var t;tripwire.systems[e].class?t="<span class='wh'>C"+tripwire.systems[e].class+"</span>":tripwire.systems[e].security>=.45?t="<span class='hisec'>HS</span>":tripwire.systems[e].security>0?t="<span class='lowsec'>LS</span>":tripwire.systems[e].security<=0&&(t="<span class='nullsec'>NS</span>");var a=null,s=null;if(tripwire.systems[e].class){switch(tripwire.systems[e].effect){case"Black Hole":a="blackhole";break;case"Cataclysmic Variable":a="cataclysmic-variable";break;case"Magnetar":a="magnetar";break;case"Pulsar":a="pulsar";break;case"Red Giant":a="red-giant";break;case"Wolf-Rayet Star":a="wolf-rayet"}s=tripwire.systems[e].effect}var o={v:i},n="<div id='node"+i+"' data-nodeid='"+e+"'><div class='nodeIcons'><div style='float: left;'><i class='whEffect' "+(a?"data-icon='"+a+"' data-tooltip='"+s+"'":null)+"></i></div><div style='float: right;'><i data-icon='user' class='invisible'></i><span class='badge' class='invisible'></span></div></div><h4 class='nodeClass'>"+t+"</h4><h4 class='nodeSystem'><a href='.?system="+tripwire.systems[e].name+"'>"+(options.chain.tabs[options.chain.active]&&0!=options.chain.tabs[options.chain.active].systemID?options.chain.tabs[options.chain.active].name:tripwire.systems[e].name)+"</a></h4><h4 class='nodeType'>&nbsp;</h4><div class='nodeActivity'><span class='jumps invisible'>&#9679;</span>&nbsp;<span class='pods invisible'>&#9679;</span>&nbsp;&nbsp;<span class='ships invisible'>&#9679;</span>&nbsp;<span class='npcs invisible'>&#9679;</span></div></div>";return o.f=n,o}function t(e){if(e[0]<=0)return!1;var i=parseInt(e[1]),t=l.length;for(var a in r){var s=r[a];if(-1==$.inArray(s.id,c))if(s.systemID==e[0]){if((o={}).id=s.id,o.life=s.life,o.mass=s.mass,o.time=s.time,o.parent={},o.parent.id=i,o.parent.systemID=s.systemID,o.parent.name=s.system,o.parent.type=s.sig2Type,o.parent.typeBM=s.type2BM,o.parent.classBM=s.class2BM,o.parent.nth=s.nth2,o.parent.signatureID=s.sig2ID,o.child={},o.child.id=++t,o.child.systemID=s.connectionID,o.child.name=s.connection,o.child.type=s.type,o.child.typeBM=s.typeBM,o.child.classBM=s.classBM,o.child.nth=s.nth,o.child.signatureID=s.signatureID,d.push(o),l.push([o.child.systemID,o.child.id,e[2]]),c.push(o.id),$("#show-viewing").hasClass("active")&&tripwire.systems[o.child.systemID]&&!tripwire.systems[viewingSystemID].class&&!tripwire.systems[o.child.systemID].class){n=guidance.findShortestPath(tripwire.map.shortest,[viewingSystemID-3e7,o.child.systemID-3e7]).length-1;(p={}).life="Gate",p.parent={},p.parent.id=o.child.id,p.parent.systemID=o.child.systemID,p.parent.name=o.child.name,p.parent.type=o.child.type,p.parent.nth=o.child.nth,p.child={},p.child.id=++t,p.child.systemID=viewingSystemID,p.child.name=tripwire.systems[viewingSystemID].name,p.child.type=n,p.child.nth=null,p.child.signatureID=n,d.push(p),l.push([0,t])}if($("#show-favorite").hasClass("active")&&tripwire.systems[o.child.systemID])for(a in options.favorites)if(!(tripwire.systems[options.favorites[a]].regionID>=11e6||tripwire.systems[o.child.systemID].regionID>=11e6)){n=guidance.findShortestPath(tripwire.map.shortest,[options.favorites[a]-3e7,o.child.systemID-3e7]).length-1;(p={}).life="Gate",p.parent={},p.parent.id=o.child.id,p.parent.systemID=o.child.systemID,p.parent.name=o.child.name,p.parent.type=o.child.type,p.parent.nth=o.child.nth,p.child={},p.child.id=++t,p.child.systemID=options.favorites[a],p.child.name=tripwire.systems[options.favorites[a]].name,p.child.type=n,p.child.nth=null,p.child.signatureID=n,d.push(p),l.push([0,t])}}else if(s.connectionID==e[0]){var o={};if(o.id=s.id,o.life=s.life,o.mass=s.mass,o.time=s.time,o.parent={},o.parent.id=i,o.parent.systemID=s.connectionID,o.parent.name=s.connection,o.parent.type=s.type,o.parent.typeBM=s.typeBM,o.parent.classBM=s.classBM,o.parent.nth=s.nth,o.parent.signatureID=s.signatureID,o.child={},o.child.id=++t,o.child.systemID=s.systemID,o.child.name=s.system,o.child.type=s.sig2Type,o.child.typeBM=s.type2BM,o.child.classBM=s.class2BM,o.child.nth=s.nth2,o.child.signatureID=s.sig2ID,d.push(o),l.push([o.child.systemID,o.child.id,e[2]]),c.push(o.id),$("#show-viewing").hasClass("active")&&tripwire.systems[o.child.systemID]&&!tripwire.systems[viewingSystemID].class&&!tripwire.systems[o.child.systemID].class){n=guidance.findShortestPath(tripwire.map.shortest,[viewingSystemID-3e7,o.child.systemID-3e7]).length-1;(p={}).life="Gate",p.parent={},p.parent.id=o.child.id,p.parent.systemID=o.child.systemID,p.parent.name=o.child.name,p.parent.type=o.child.type,p.parent.nth=o.child.nth,p.child={},p.child.id=++t,p.child.systemID=viewingSystemID,p.child.name=tripwire.systems[viewingSystemID].name,p.child.type=n,p.child.nth=null,p.child.signatureID=n,d.push(p),l.push([0,t])}if($("#show-favorite").hasClass("active")&&tripwire.systems[o.child.systemID])for(a in options.favorites)if(!(tripwire.systems[options.favorites[a]].regionID>=11e6||tripwire.systems[o.child.systemID].regionID>=11e6)){var n=guidance.findShortestPath(tripwire.map.shortest,[options.favorites[a]-3e7,o.child.systemID-3e7]).length-1,p={};p.life="Gate",p.parent={},p.parent.id=o.child.id,p.parent.systemID=o.child.systemID,p.parent.name=o.child.name,p.parent.type=o.child.type,p.parent.nth=o.child.nth,p.child={},p.child.id=++t,p.child.systemID=options.favorites[a],p.child.name=tripwire.systems[options.favorites[a]].name,p.child.type=n,p.child.nth=null,p.child.signatureID=n,d.push(p),l.push([0,t])}}}}var a={cols:[{label:"System",type:"string"},{label:"Parent",type:"string"}],rows:[]},s=["Q003","E004","L005","Z006","M001","C008","G008","A009"],o=[];if($("#chainTabs .current").length>0){var n=$("#chainTabs .current .name").data("tab").toString().split(","),l=[],r=e,d=[],c=[];if(0==n){h=0;for(var p in e)void 0===tripwire.systems[e[p].systemID].class?(h++,a.rows.push({c:[i(e[p].systemID,h),{v:null}]}),l.push([e[p].systemID,h,e[p].systemID])):tripwire.systems[e[p].connectionID]&&void 0===tripwire.systems[e[p].connectionID].class&&(h++,a.rows.push({c:[i(e[p].connectionID,h),{v:null}]}),l.push([e[p].connectionID,h,e[p].connectionID]))}else for(var p in n)a.rows.push({c:[i(n[p],parseInt(p)+1),{v:null}]}),l.push([n[p],parseInt(p)+1,n[p]]);for(h=0;h<l.length;h++)t(l[h])}else{$("#chainError").hide();var m={c:[]},g=viewingSystemID;m.c.push(i(g,1),{v:null}),a.rows.push(m);for(var l=[[g,1]],r=e,d=[],c=[],h=0;h<l.length;++h)t(l[h])}for(var p in d){var u,f=d[p],m={c:[]},v=tripwire.systems[f.child.systemID]?tripwire.systems[f.child.systemID].class:null,y=tripwire.systems[f.child.systemID]?tripwire.systems[f.child.systemID].security:null;u=6==v||"Class-6"==f.child.name||void 0!==tripwire.wormholes[f.child.type]&&"Class 6"==tripwire.wormholes[f.child.type].leadsTo?"<span class='wh'>C6</span>":5==v||"Class-5"==f.child.name||void 0!==tripwire.wormholes[f.child.type]&&"Class 5"==tripwire.wormholes[f.child.type].leadsTo?"<span class='wh'>C5</span>":4==v||"Class-4"==f.child.name||void 0!==tripwire.wormholes[f.child.type]&&"Class 4"==tripwire.wormholes[f.child.type].leadsTo?"<span class='wh'>C4</span>":3==v||"Class-3"==f.child.name||void 0!==tripwire.wormholes[f.child.type]&&"Class 3"==tripwire.wormholes[f.child.type].leadsTo?"<span class='wh'>C3</span>":2==v||"Class-2"==f.child.name||void 0!==tripwire.wormholes[f.child.type]&&"Class 2"==tripwire.wormholes[f.child.type].leadsTo?"<span class='wh'>C2</span>":1==v||"Class-1"==f.child.name||void 0!==tripwire.wormholes[f.child.type]&&"Class 1"==tripwire.wormholes[f.child.type].leadsTo?"<span class='wh'>C1</span>":v>6?"<span class='wh'>C"+v+"</span>":void 0!==tripwire.wormholes[f.child.type]&&tripwire.wormholes[f.child.type].leadsTo.split(" ").length>1?"<span class='wh'>C"+tripwire.wormholes[f.child.type].leadsTo.split(" ")[1]+"</span>":y>=.45||"High-Sec"==f.child.name||void 0!==tripwire.wormholes[f.child.type]&&"High-Sec"==tripwire.wormholes[f.child.type].leadsTo&&!y?"<span class='hisec'>HS</span>":y>0||"Low-Sec"==f.child.name||void 0!==tripwire.wormholes[f.child.type]&&"Low-Sec"==tripwire.wormholes[f.child.type].leadsTo&&!y?"<span class='lowsec'>LS</span>":y<=0&&null!=y||"Null-Sec"==f.child.name||void 0!==tripwire.wormholes[f.child.type]&&"Null-Sec"==tripwire.wormholes[f.child.type].leadsTo?"<span class='nullsec'>NS</span>":"<span>&nbsp;</span>";var w=null,b=null;if(void 0!==tripwire.systems[f.child.systemID]){switch(tripwire.systems[f.child.systemID].effect){case"Black Hole":w="blackhole";break;case"Cataclysmic Variable":w="cataclysmic-variable";break;case"Magnetar":w="magnetar";break;case"Pulsar":w="pulsar";break;case"Red Giant":w="red-giant";break;case"Wolf-Rayet Star":w="wolf-rayet";break;default:w=null}b=tripwire.systems[f.child.systemID].effect}var k={v:f.child.id},C="<div id='node"+f.child.id+"' data-nodeid='"+f.child.systemID+"' data-sigid='"+f.id+"'><div class='nodeIcons'><div style='float: left;'><i class='whEffect' "+(w?"data-icon='"+w+"' data-tooltip='"+b+"'":null)+"></i></div><div style='float: right;'><i data-icon='user' class='invisible'></i><span class='badge' class='invisible'></span></div></div><h4 class='nodeClass'>"+(u+sigFormat(f.child.classBM,"class"))+"</h4><h4 class='nodeSystem'>"+(tripwire.systems[f.child.systemID]?"<a href='.?system="+tripwire.systems[f.child.systemID].name+"'>"+(f.child.name?f.child.name:tripwire.systems[f.child.systemID].name)+"</a>":"<a class='invisible'>system</a>")+"</h4><h4 class='nodeType'>"+("id"==options.chain["node-reference"]?f.child.signatureID:f.child.type+sigFormat(f.child.typeBM,"type")||"&nbsp;")+"</h4><div class='nodeActivity'><span class='jumps invisible'>&#9679;</span>&nbsp;<span class='pods invisible'>&#9679;</span>&nbsp;&nbsp;<span class='ships invisible'>&#9679;</span>&nbsp;<span class='npcs invisible'>&#9679;</span></div></div>";k.f=C;var D={v:f.parent.id};m.c.push(k,D),a.rows.push(m),"Critical"!=f.life||-1==$.inArray(f.parent.type,s)&&-1==$.inArray(f.child.type,s)?"Critical"==f.life&&"Critical"==f.mass?o.push(Array(k.v,D.v,"eol-critical",f.id)):"Critical"==f.life&&"Destab"==f.mass?o.push(Array(k.v,D.v,"eol-destab",f.id)):-1!=$.inArray(f.parent.type,s)||-1!=$.inArray(f.child.type,s)?o.push(Array(k.v,D.v,"frig",f.id)):"Critical"==f.life?o.push(Array(k.v,D.v,"eol",f.id)):"Critical"==f.mass?o.push(Array(k.v,D.v,"critical",f.id)):"Destab"==f.mass?o.push(Array(k.v,D.v,"destab",f.id)):"Gate"!=f.life&&"GATE"!=f.parent.type&&"GATE"!=f.child.type||o.push(Array(k.v,D.v,"gate",f.id)):o.push(Array(k.v,D.v,"eol-frig",f.id))}return o.reverse(),{map:a,lines:o}},this.redraw=function(){var e=$.extend(!0,{},this.data);e.map=$.extend(!0,{},e.rawMap),this.draw(e)},this.draw=function(e){if((e=void 0!==e?e:{}).map){if(this.drawing=!0,this.data.rawMap=$.extend(!0,{},e.map),(null==options.chain.active||options.chain.tabs[options.chain.active]&&0==options.chain.tabs[options.chain.active].evescout)&&"273.0"!=options.masks.active)for(var i in e.map)"273.0"==e.map[i].mask&&delete e.map[i];if(Object.sort(e.map,"id"),$.extend(e,this.nodes(e.map)),$.extend(this.data,e),this.map.draw(this.newView(e.map),this.options),options.chain.tabs[options.chain.active])for(var t in options.chain.tabs[options.chain.active].collapsed){var a=$("#chainMap [data-nodeid='"+options.chain.tabs[options.chain.active].collapsed[t]+"']").attr("id");a&&(a=a.split("node")[1],this.map.collapse(a-1,!0))}this.lines(e),this.grid(),$("#chainMap [data-nodeid='"+viewingSystemID+"']").parent().addClass("currentNode"),WormholeTypeToolTips.attach($("#chainMap .whEffect")),this.drawing=!1}e.activity&&(this.data.activity=this.activity(e.activity)),e.occupied&&(this.data.occupied=this.occupied(e.occupied)),e.flares&&(this.data.flares=this.flares(e.flares)),e.last_modified&&(this.data.last_modified=e.last_modified)},this.collapse=function(e){if(chain.drawing)return!1;var i=chain.map.getCollapsedNodes();options.chain.tabs[options.chain.active].collapsed=[];for(x in i){var t=$("#chainMap #node"+(i[x]+1)).data("nodeid");options.chain.tabs[options.chain.active].collapsed.push(t)}chain.lines(chain.data),$("#chainMap [data-nodeid='"+viewingSystemID+"']").parent().addClass("currentNode"),WormholeTypeToolTips.attach($("#chainMap .whEffect")),chain.activity(chain.data.activity),chain.occupied(chain.data.occupied),chain.flares(chain.data.flares),chain.grid(),options.save()},this.init=function(){this.map=new google.visualization.OrgChart(document.getElementById("chainMap")),this.options={allowHtml:!0,allowCollapse:!0,size:"medium",nodeClass:"node"},google.visualization.events.addListener(this.map,"collapse",this.collapse),this.map.draw(new google.visualization.DataView(new google.visualization.DataTable({cols:[{label:"System",type:"string"},{label:"Parent",type:"string"}]})),this.options)},this.init()},CKConfig={skin:"custom",height:100,allowedContent:!0,extraPlugins:"toolbarswitch,autogrow,autolink",enterMode:CKEDITOR.ENTER_BR,removeDialogTabs:"link:advanced",autoGrow_onStartup:!0,autoGrow_minHeight:100,toolbar_minToolbar:[{name:"basicstyles",items:["Bold","Italic","Underline","Strike"]},{name:"paragraph",items:["BulletedList","Outdent","Indent"]},{name:"links",items:["Link"]},{name:"colors",items:["TextColor","BGColor"]},{name:"styles",items:["FontSize"]},{name:"tools",items:["Toolbarswitch"]}],toolbar_maxToolbar:[{name:"basicstyles",items:["Bold","Italic","Underline","Strike","Subscript","Superscript"]},{name:"paragraph",items:["NumberedList","BulletedList","Outdent","Indent"]},{name:"links",items:["Link"]},{name:"colors",items:["TextColor","BGColor"]},{name:"styles",items:["FontSize","Font"]},{name:"tools",items:["Source","Toolbarswitch"]}],toolbar:"minToolbar",smallToolbar:"minToolbar",maximizedToolbar:"maxToolbar",fontSize_style:{element:"span",styles:{"font-size":"#(size)"},overrides:[{element:"font",attributes:{size:null}}]}};CKEDITOR.on("instanceLoaded",function(e){e.editor.on("contentDom",function(){e.editor.on("key",function(i){return 27==i.data.keyCode?($(e.editor.element.$).closest(".comment").find(".commentCancel").click(),!1):i.data.domEvent.$.altKey&&83==i.data.domEvent.$.keyCode?($(e.editor.element.$).closest(".comment").find(".commentSave").click(),!1):void 0})}),$(".cke_combo__font a").removeClass("cke_combo_button").addClass("cke_button cke_button_off").html('<span class="cke_button_icon">&nbsp;</span>'),$(".cke_combo__fontsize a").removeClass("cke_combo_button").addClass("cke_button cke_button_off").html('<span class="cke_button_icon">&nbsp;</span>')}),CKEDITOR.on("instanceReady",function(e){e.editor.focus();var i=e.editor.getSelection(),t=i.getRanges(),a=t[0].startContainer,s=a.getParents(!0);if(!(a=s[s.length-2].getFirst()))return!1;for(;;){var o=a.getNext();if(null==o)break;a=o}i.selectElement(a),(t=i.getRanges())[0].collapse(!1),i.selectRanges(t)}),CKEDITOR.on("dialogDefinition",function(e){"link"==e.data.name&&(e.data.definition.getContents("target").get("linkTargetType").default="_blank")}),$("body").on("dblclick",".comment",function(e){e.preventDefault(),document.getSelection().removeAllRanges(),$(this).find(".commentEdit").click()}),$("body").on("click",".commentEdit",function(e){if(e.preventDefault(),$(".cke").length)return!1;var i=$(this).closest(".comment");i.find(".commentToolbar").hide(),CKEDITOR.replace(i.find(".commentBody").attr("id"),CKConfig).on("instanceReady",function(){i.find(".commentStatus").html(""),i.find(".commentFooter").show(),i.find(".commentFooter .commentControls").show()}),tripwire.activity.editComment=i.data("id"),tripwire.refresh("refresh")}),$("body").on("click",".commentSave, .commentCancel",function(e){e.preventDefault();var i=$(this);if(i.attr("disabled"))return!1;var t=i.closest(".comment");if(i.attr("disabled","true"),i.hasClass("commentSave")){var a={mode:"save",commentID:t.data("id"),systemID:t.find(".commentSticky").hasClass("active")?0:viewingSystemID,comment:CKEDITOR.instances[t.find(".commentBody").attr("id")].getData()};$.ajax({url:"comments.php",type:"POST",data:a,dataType:"JSON"}).done(function(e){e&&1==e.result&&(t.find(".commentModified").html("Edited by "+e.comment.modifiedBy+" at "+e.comment.modifiedDate),t.find(".commentCreated").html("Posted by "+e.comment.createdBy+" at "+e.comment.createdDate),Tooltips.attach(t.find("[data-tooltip]")),CKEDITOR.instances[t.find(".commentBody").attr("id")].destroy(!1),t.attr("data-id",e.comment.id),t.find(".commentToolbar").show(),t.find(".commentFooter").hide(),i.removeAttr("disabled"))})}else CKEDITOR.instances[t.find(".commentBody").attr("id")].destroy(!0),t.attr("data-id")?(t.find(".commentToolbar").show(),t.find(".commentFooter").hide(),i.removeAttr("disabled")):t.remove();t.find(".commentStatus").html(""),delete tripwire.activity.editComment,tripwire.refresh("refresh")}),$("body").on("click",".commentDelete",function(e){e.preventDefault();var i=$(this).closest(".comment");$("#dialog-deleteComment").hasClass("ui-dialog-content")?$("#dialog-deleteComment").dialog("isOpen")||$("#dialog-deleteComment").data("comment",i).dialog("open"):$("#dialog-deleteComment").data("comment",i).dialog({resizable:!1,minHeight:0,position:{my:"center",at:"center",of:$("#notesWidget")},dialogClass:"dialog-noeffect ui-dialog-shadow",buttons:{Delete:function(){$("#dialog-deleteComment").parent().find(":button:contains('Delete')").button("disable");var e=$(this).data("comment"),i={mode:"delete",commentID:e.data("id")};$.ajax({url:"comments.php",type:"POST",data:i,dataType:"JSON"}).done(function(i){i&&1==i.result&&($("#dialog-deleteComment").dialog("close"),e.remove())}).always(function(){$("#dialog-deleteComment").parent().find(":button:contains('Delete')").button("enable")})},Cancel:function(){$(this).dialog("close")}}})}),$("body").on("click","#add-comment",function(e){if(e.preventDefault(),$(".cke").length)return!1;var i=$(".comment:last").clone(),t=$(".comment:visible:last .commentBody").attr("id")?$(".comment:visible:last .commentBody").attr("id").replace("comment","")+1:0;$(".comment:last").before(i),i.find(".commentBody").attr("id","comment"+t),i.removeClass("hidden").find(".commentEdit").click()}),$("body").on("click",".commentSticky",function(e){e.preventDefault();var i=$(this).closest(".comment"),t={mode:"sticky",commentID:i.data("id"),systemID:i.find(".commentSticky").hasClass("active")?viewingSystemID:0};$.ajax({url:"comments.php",type:"POST",data:t,dataType:"JSON"}).done(function(e){e&&1==e.result&&(i.find(".commentSticky").hasClass("active")?i.find(".commentSticky").removeClass("active"):i.find(".commentSticky").addClass("active"))})}),-1!=window.location.href.indexOf("galileo")&&Notify.trigger("This is the test version of Tripwire.<br/>Please use <a href='https://tripwire.cloud-things.com'>Tripwire</a>"),$("body").on("click","a[href^='.?system=']",function(e){e.preventDefault();var i=$(this).attr("href").replace(".?system=",""),t=Object.index(tripwire.systems,"name",i);tripwire.systemChange(t)}),$("body").on("submit","#systemSearch",function(e){e.preventDefault();var i=$(this).find("[name='system']").val(),t=Object.index(tripwire.systems,"name",i)||!1;!1!==t&&(tripwire.systemChange(t),$(this).find("[name='system']").val(""),$("#search").click())}),$("body").on("click","#undo:not(.disabled)",function(){tripwire.undo()}),$("body").on("click","#redo:not(.disabled)",function(){tripwire.redo()}),$(document).keydown(function(e){if((e.metaKey||e.ctrlKey)&&(89==e.keyCode||90==e.keyCode)){if($(document.activeElement).is("textarea, input"))return;e.preventDefault(),89!=e.keyCode||$("#redo").hasClass("disabled")?90!=e.keyCode||$("#undo").hasClass("disabled")||($("#undo").click(),Notify.trigger("Undoing last action")):($("#redo").click(),Notify.trigger("Redoing last undo"))}}),$("#admin").click(function(e){function i(){s&&s.abort(),a.html("Total: "+$("#dialog-admin .window .hasFocus table tr[data-id]").length),s=$.ajax({url:"admin.php",type:"POST",data:{mode:$("#dialog-admin .menu .active").attr("data-window")},dataType:"JSON"}).done(function(e){if(e&&e.results){for(var i=e.results,t=[],s=0,o=i.length;s<o;s++){var n=$("#dialog-admin .window .hasFocus tbody tr[data-id='"+i[s].id+"']");if(t.push(i[s].id),n.length)for(col in i[s])(l=n.find("[data-col='"+col+"']")).html(("number"==l.attr("data-format")?numFormat(i[s][col]):i[s][col])||"&nbsp;");else{(n=$("#dialog-admin .window .hasFocus table tr.hidden").clone()).attr("data-id",i[s].id);for(col in i[s]){var l=n.find("[data-col='"+col+"']");l.html(("number"==l.attr("data-format")?numFormat(i[s][col]):i[s][col])||"&nbsp;")}n.removeClass("hidden"),$("#dialog-admin .window .hasFocus tbody").append(n)}}$("#dialog-admin .window .hasFocus table tr[data-id]").each(function(){-1==$.inArray($(this).data("id").toString(),t)&&$(this).remove()}),$("#dialog-admin .window .hasFocus table").trigger("update",[!0])}else $("#dialog-admin .window .hasFocus table tr[data-id]").remove();a.html("Total: "+$("#dialog-admin .window .hasFocus table tr[data-id]").length)}),$("#dialog-admin").dialog("isOpen")&&$("#dialog-admin .menu .active").attr("data-refresh")&&(t=setTimeout(i,$("#dialog-admin .menu .active").attr("data-refresh")))}if(e.preventDefault(),$(this).hasClass("disabled"))return!1;if($("#dialog-admin").hasClass("ui-dialog-content"))$("#dialog-admin").dialog("isOpen")||$("#dialog-admin").dialog("open");else{var t=null,a=null,s=null;$("#dialog-admin").dialog({autoOpen:!0,modal:!0,height:350,width:800,buttons:{Close:function(){$(this).dialog("close")}},create:function(){$("#dialog-admin").on("click",".menu li",function(e){e.preventDefault(),$menuItem=$(this),clearTimeout(t),$("#dialog-admin .menu .active").removeClass("active"),$menuItem.addClass("active"),$("div.ui-dialog[aria-describedby='dialog-admin'] .ui-dialog-traypane").html(""),$("#dialog-admin .window [data-window]").removeClass("hasFocus").hide(),$("#dialog-admin .window [data-window='"+$menuItem.data("window")+"']").addClass("hasFocus").show(),i()}),$("#dialog-admin [data-sortable='true']").tablesorter({sortReset:!0,widgets:["saveSort"],sortList:[[0,0]]}),$($(this)[0].parentElement).find(".ui-dialog-buttonpane").append("<div class='ui-dialog-traypane'></div>"),a=$("div.ui-dialog[aria-describedby='dialog-admin'] .ui-dialog-traypane")},open:function(){$menuItem=$("#dialog-admin .menu li.active"),i()},close:function(){clearTimeout(t)}})}}),$(".options").click(function(e){if(e.preventDefault(),$(this).hasClass("disabled"))return!1;$("#dialog-options").dialog({autoOpen:!1,width:450,minHeight:400,modal:!0,buttons:{Save:function(){JSON.stringify(options);var e=!1;$("#dialog-options").parent().find(".ui-dialog-buttonpane button:contains('Save')").attr("disabled",!0).addClass("ui-state-disabled"),options.chain.typeFormat=$("#dialog-options #typeFormat").val(),options.chain.classFormat=$("#dialog-options #classFormat").val(),options.chain.gridlines=JSON.parse($("#dialog-options input[name=gridlines]:checked").val()),options.chain["node-reference"]=$("#dialog-options input[name=node-reference]:checked").val(),options.signatures.pasteLife=$("#dialog-options #pasteLife").val(),options.background=$("#dialog-options #background-image").val(),options.masks.active!=$("#dialog-options input[name='mask']:checked").val()&&(e=!0),options.masks.active=$("#dialog-options input[name='mask']:checked").val(),options.apply(),options.save().done(function(){e&&($("#sigTable span[data-age]").countdown("destroy"),$("#sigTable tbody").empty(),$("#signature-count").html(0),tripwire.signatures.list={},tripwire.client.signatures=[],tripwire.refresh("change"))}),$("#dialog-options").dialog("close"),$("#dialog-options").parent().find(".ui-dialog-buttonpane button:contains('Save')").attr("disabled",!1).removeClass("ui-state-disabled"),$("#dialog-options input[name='mask']:checked").data("admin")?$("#admin").removeClass("disabled"):$("#admin").addClass("disabled")},Reset:function(){$("#dialog-confirm #msg").html("Settings will be reset to defaults temporarily.<br/><br/><p><em>Save settings to make changes permanent.</em></p>"),$("#dialog-confirm").dialog("option",{buttons:{Reset:function(){options.reset(),options.apply(),$("#dialog-options").dialog("close"),$(this).dialog("close")},Cancel:function(){$(this).dialog("close")}}}).dialog("open")},Close:function(){$(this).dialog("close")}},open:function(){$.ajax({url:"user_stats.php",type:"POST",dataType:"JSON"}).done(function(e){for(stat in e)$("#"+stat).text(e[stat])}),$.ajax({url:"masks.php",type:"POST",dataType:"JSON"}).done(function(e){if(e&&e.masks){$("#dialog-options #masks #default").html(""),$("#dialog-options #masks #personal").html(""),$("#dialog-options #masks #corporate").html("");for(var i in e.masks){var t=e.masks[i],a=$('<input type="radio" name="mask" id="mask'+i+'" value="'+t.mask+'" class="selector" data-owner="'+t.owner+'" data-admin="'+t.admin+'" /><label for="mask'+i+'"><img src="'+t.img+'" />'+(t.optional?'<i class="closeIcon" onclick="return false;" data-icon="red-giant"><i data-icon="times"></i></i>':"")+'<span class="selector_label">'+t.label+"</span></label>");$("#dialog-options #masks #"+t.type).append(a)}a=$('<input type="checkbox" name="find" id="findp" value="personal" class="selector" disabled="disabled" /><label for="findp"><i data-icon="search" style="font-size: 3em; margin-left: 16px; margin-top: 16px; display: block;"></i></label>');if($("#dialog-options #masks #personal").append(a),"1"==init.admin){a=$('<input type="checkbox" name="find" id="findc" value="corporate" class="selector" disabled="disabled" /><label for="findc"><i data-icon="search" style="font-size: 3em; margin-left: 16px; margin-top: 16px; display: block;"></i></label>');$("#dialog-options #masks #corporate").append(a)}$("#dialog-options input[name='mask']").filter("[value='"+e.masks[e.active].mask+"']").attr("checked",!0).trigger("change"),e.masks[e.active].admin?$("#admin").removeClass("disabled"):$("#admin").addClass("disabled")}}),$("#dialog-options #pasteLife").val(options.signatures.pasteLife),$("#dialog-options #typeFormat").val(options.chain.typeFormat),$("#dialog-options #classFormat").val(options.chain.classFormat),$("#dialog-options input[name='node-reference'][value='"+options.chain["node-reference"]+"']").prop("checked",!0),$("#dialog-options input[name='gridlines'][value='"+options.chain.gridlines+"']").prop("checked",!0),$("#dialog-options #background-image").val(options.background)},create:function(){$("#optionsAccordion").accordion({heightStyle:"content",collapsible:!0,active:!1}),$("#dialog-pwChange").dialog({autoOpen:!1,resizable:!1,minHeight:0,dialogClass:"ui-dialog-shadow dialog-noeffect dialog-modal",buttons:{Save:function(){$("#pwForm").submit()},Cancel:function(){$(this).dialog("close")}},close:function(){$("#pwForm input[name='password'], #pwForm input[name='confirm']").val(""),$("#pwError").text("").hide()}}),$("#pwChange").click(function(){$("#dialog-pwChange").dialog("open")}),$("#pwForm").submit(function(e){e.preventDefault(),$("#pwError").text("").hide(),$.ajax({url:"options.php",type:"POST",data:$(this).serialize(),dataType:"JSON"}).done(function(e){e&&e.result?($("#dialog-msg #msg").text("Password changed"),$("#dialog-msg").dialog("open"),$("#dialog-pwChange").dialog("close")):e&&e.error?$("#pwError").text(e.error).show("slide",{direction:"up"}):$("#pwError").text("Unknown error").show("slide",{direction:"up"})})}),$("#dialog-usernameChange").dialog({autoOpen:!1,resizable:!1,minHeight:0,dialogClass:"ui-dialog-shadow dialog-noeffect dialog-modal",buttons:{Save:function(){$("#usernameForm").submit()},Cancel:function(){$(this).dialog("close")}},open:function(){$("#usernameForm #username").html($("#dialog-options #username").html())},close:function(){$("#usernameForm [name='username']").val(""),$("#usernameError").text("").hide()}}),$("#usernameChange").click(function(){$("#dialog-usernameChange").dialog("open")}),$("#usernameForm").submit(function(e){e.preventDefault(),$("#usernameError").text("").hide(),$.ajax({url:"options.php",type:"POST",data:$(this).serialize(),dataType:"JSON"}).done(function(e){e&&e.result?($("#dialog-msg #msg").text("Username changed"),$("#dialog-msg").dialog("open"),$("#dialog-options #username").html(e.result),$("#dialog-usernameChange").dialog("close")):e&&e.error?$("#usernameError").text(e.error).show("slide",{direction:"up"}):$("#usernameError").text("Unknown error").show("slide",{direction:"up"})})}),$("#masks").on("change","input.selector:checked",function(){$(this).data("owner")?($("#maskControls #edit").removeAttr("disabled"),$("#maskControls #delete").removeAttr("disabled")):($("#maskControls #edit").attr("disabled","disabled"),$("#maskControls #delete").attr("disabled","disabled")),0!=$(this).val()&&0==$(this).val().split(".")[1]?$("#dialog-options #leave").removeAttr("disabled"):$("#dialog-options #leave").attr("disabled","disabled")}),$("#dialog-joinMask").dialog({autoOpen:!1,resizable:!1,dialogClass:"ui-dialog-shadow dialog-noeffect dialog-modal",buttons:{Add:function(){var e=$("#dialog-joinMask #results input:checked"),i=$("#dialog-joinMask #results input:checked+label");$.ajax({url:"masks.php",type:"POST",data:{mask:e.val(),mode:"join"},dataType:"JSON"}).done(function(t){t&&t.result&&(i.css("width",""),i.find(".info").remove(),i.append('<i class="closeIcon" onclick="return false;" data-icon="red-giant"><i data-icon="times"></i></i>'),$("#dialog-options #masks #"+t.type+" input.selector:last").before(e).before(i),$("#dialog-joinMask").dialog("close"))})},Cancel:function(){$(this).dialog("close")}},create:function(){$("#dialog-joinMask form").submit(function(e){e.preventDefault(),$("#dialog-joinMask #results").html(""),$("#dialog-joinMask #loading").show(),$("#dialog-joinMask input[type='submit']").attr("disabled","disabled"),$.ajax({url:"masks.php",type:"POST",data:$(this).serialize(),dataType:"JSON"}).done(function(e){if(e&&e.results)for(var i in e.results){var t=e.results[i],a=$('<input type="radio" name="mask" id="mask'+t.mask+'" value="'+t.mask+'" class="selector" data-owner="false" data-admin="'+t.admin+'" /><label for="mask'+t.mask+'" style="width: 100%; margin-left: -5px;">\t<img src="'+t.img+'" />\t<span class="selector_label">'+t.label+'</span>\t<div class="info">\t\t'+(t.characterName?t.characterName+"<br/>":"")+"\t\t"+t.corporationName+"<br/>\t\t"+t.allianceName+"\t</div></label>");$("#dialog-joinMask #results").append(a)}else e&&e.error?($("#dialog-error #msg").text(e.error),$("#dialog-error").dialog("open")):($("#dialog-error #msg").text("Unknown error"),$("#dialog-error").dialog("open"))}).always(function(){$("#dialog-joinMask #loading").hide(),$("#dialog-joinMask input[type='submit']").removeAttr("disabled")})})},close:function(){$("#dialog-joinMask #results").html(""),$("#dialog-joinMask input[name='name']").val("")}}),$("#dialog-options #masks").on("click","input[name='find']+label",function(){$("#dialog-joinMask input[name='find']").val($(this).prev().val()),$("#dialog-joinMask").dialog("open")}),$("#dialog-options #masks").on("click",".closeIcon",function(){var e=$(this).closest("input.selector+label").prev();$("#dialog-confirm #msg").text("Are you sure you want to remove this mask?"),$("#dialog-confirm").dialog("option",{buttons:{Remove:function(){var i={mode:"leave",mask:e.val()};$.ajax({url:"masks.php",type:"POST",data:i,dataType:"JSON"}).done(function(i){i&&i.result?(e.next().remove(),e.remove(),$("#dialog-confirm").dialog("close")):($("#dialog-confirm").dialog("close"),$("#dialog-error #msg").text("Unable to delete"),$("#dialog-error").dialog("open"))})},Cancel:function(){$(this).dialog("close")}}}).dialog("open")}),$("#maskControls #delete").click(function(){var e=$("#masks input.selector:checked");$("#dialog-confirm #msg").text("Are you sure you want to delete this mask?"),$("#dialog-confirm").dialog("option",{buttons:{Delete:function(){var i={mode:"delete",mask:e.val()};$.ajax({url:"masks.php",type:"POST",data:i,dataType:"JSON"}).done(function(i){i&&i.result?(e.next().remove(),e.remove(),$("#dialog-confirm").dialog("close")):($("#dialog-confirm").dialog("close"),$("#dialog-error #msg").text("Unable to delete"),$("#dialog-error").dialog("open"))})},Cancel:function(){$(this).dialog("close")}}}).dialog("open")}),$("#dialog-createMask").dialog({autoOpen:!1,dialogClass:"ui-dialog-shadow dialog-noeffect dialog-modal",buttons:{Create:function(){$("#dialog-createMask form").submit()},Cancel:function(){$(this).dialog("close")}},create:function(){$("#dialog-createMask #accessList").on("click","#create_add+label",function(){$("#dialog-EVEsearch").dialog("open")}),$("#dialog-createMask form").submit(function(e){e.preventDefault(),$.ajax({url:"masks.php",type:"POST",data:$(this).serialize(),dataType:"JSON"}).done(function(e){e&&e.result?($.ajax({url:"masks.php",type:"POST",dataType:"JSON"}).done(function(e){if(e&&e.masks){$("#dialog-options #masks #default").html(""),$("#dialog-options #masks #personal").html(""),$("#dialog-options #masks #corporate").html("");for(var i in e.masks){var t=e.masks[i],a=$('<input type="radio" name="mask" id="mask'+i+'" value="'+t.mask+'" class="selector" data-owner="'+t.owner+'" data-admin="'+t.admin+'" /><label for="mask'+i+'"><img src="'+t.img+'" />'+(t.optional?'<i class="closeIcon" onclick="return false;" data-icon="red-giant"><i data-icon="times"></i></i>':"")+'<span class="selector_label">'+t.label+"</span></label>");$("#dialog-options #masks #"+t.type).append(a)}a=$('<input type="checkbox" name="find" id="findp" value="personal" class="selector" disabled="disabled" /><label for="findp"><i data-icon="search" style="font-size: 3em; margin-left: 16px; margin-top: 16px; display: block;"></i></label>');if($("#dialog-options #masks #personal").append(a),"1"==init.admin){a=$('<input type="checkbox" name="find" id="findc" value="corporate" class="selector" disabled="disabled" /><label for="findc"><i data-icon="search" style="font-size: 3em; margin-left: 16px; margin-top: 16px; display: block;"></i></label>');$("#dialog-options #masks #corporate").append(a)}$("#dialog-options input[name='mask']").filter("[value='"+e.masks[e.active].mask+"']").attr("checked",!0).trigger("change"),e.masks[e.active].admin?$("#admin").removeClass("disabled"):$("#admin").addClass("disabled")}}),$("#dialog-createMask").dialog("close")):e&&e.error?($("#dialog-error #msg").text(e.error),$("#dialog-error").dialog("open")):($("#dialog-error #msg").text("Unknown error"),$("#dialog-error").dialog("open"))})}),$("#dialog-createMask select").selectmenu({width:100})},open:function(){$("#dialog-createMask input[name='name']").val(""),$("#dialog-createMask #accessList :not(.static)").remove()}}),$("#maskControls #create").click(function(){$("#dialog-createMask").dialog("open")}),$("#dialog-createMask #accessList").on("click",".maskRemove",function(){$(this).closest("input.selector+label").prev().remove(),$(this).closest("label").remove()}),$("#dialog-editMask").dialog({autoOpen:!1,dialogClass:"ui-dialog-shadow dialog-noeffect dialog-modal",buttons:{Save:function(){$("#dialog-editMask form").submit()},Cancel:function(){$(this).dialog("close")}},create:function(){$("#dialog-editMask #accessList").on("click",".maskRemove",function(){$(this).closest("input.selector+label").prev().attr("name","deletes[]").hide(),$(this).closest("label").hide()}),$("#dialog-editMask #accessList").on("click","#edit_add+label",function(){$("#dialog-EVEsearch").dialog("open")}),$("#dialog-editMask form").submit(function(e){e.preventDefault(),$.ajax({url:"masks.php",type:"POST",data:$(this).serialize(),dataType:"JSON"}).done(function(e){e&&e.result?$("#dialog-editMask").dialog("close"):e&&e.error?($("#dialog-error #msg").text(e.error),$("#dialog-error").dialog("open")):($("#dialog-error #msg").text("Unknown error"),$("#dialog-error").dialog("open"))})})},open:function(){var e=$("#dialog-options input[name='mask']:checked").val();$("#dialog-editMask input[name='mask']").val(e),$("#dialog-editMask #accessList label.static").hide(),$("#dialog-editMask #loading").show(),$("#dialog-editMask #name").text($("#dialog-options input[name='mask']:checked+label .selector_label").text()),$.ajax({url:"masks.php",type:"POST",data:{mode:"edit",mask:e},dataType:"JSON"}).done(function(e){if(e&&e.results){for(var i in e.results){var t=e.results[i],a=$('<input type="checkbox" checked="checked" onclick="return false" name="" id="edit_'+(2==t.type?t.corporationID:t.characterID)+"_"+t.type+'" value="'+(2==t.type?t.corporationID:t.characterID)+"_"+t.type+'" class="selector" /><label for="edit_'+(2==t.type?t.corporationID:t.characterID)+"_"+t.type+'" style="width: 100%; margin-left: -5px;">\t<img src="https://image.eveonline.com/'+(2==t.type?"Corporation/"+t.corporationID+"_64.png":"Character/"+t.characterID+"_64.jpg")+'" />\t<span class="selector_label">'+(2==t.type?"Corporation":"Character")+'</span>\t<div class="info">\t\t'+(2!=t.type?t.characterName+"<br/>":"")+"\t\t"+t.corporationName+"<br/>\t\t"+t.allianceName+'\t\t<input type="button" class="maskRemove" value="Remove" style="position: absolute; bottom: 3px; right: 3px;" />\t</div></label>');$("#dialog-editMask #accessList .static:first").before(a)}$("#dialog-editMask #accessList label.static").show()}}).always(function(){$("#dialog-editMask #loading").hide()})},close:function(){$("#dialog-editMask #accessList :not(.static)").remove()}}),$("#maskControls #edit").click(function(){$("#dialog-editMask").dialog("open")}),$("#dialog-EVEsearch").dialog({autoOpen:!1,dialogClass:"ui-dialog-shadow dialog-noeffect dialog-modal",buttons:{Add:function(){if($("#accessList input[value='"+$("#EVESearchResults input").val()+"']").length)return $("#dialog-error #msg").text("Already has access"),$("#dialog-error").dialog("open"),!1;$("#EVESearchResults .info").append('<input type="button" class="maskRemove" value="Remove" style="position: absolute; bottom: 3px; right: 3px;" />');var e=$("#EVESearchResults").html();$("#dialog-createMask").dialog("isOpen")?$("#dialog-createMask #accessList .static:first").before(e):$("#dialog-editMask").dialog("isOpen")&&$("#dialog-editMask #accessList .static:first").before(e),$(this).dialog("close")},Close:function(){$(this).dialog("close")}},create:function(){$("#EVEsearch").submit(function(e){e.preventDefault(),$("#EVEsearch #searchSpinner").show(),$("#EVEsearch input[type='submit']").attr("disabled","disabled"),$("#dialog-EVEsearch").parent().find(".ui-dialog-buttonpane button:contains('Add')").attr("disabled",!0).addClass("ui-state-disabled"),$.ajax({url:"masks.php",type:"POST",data:$(this).serialize(),dataType:"JSON"}).done(function(e){if(e&&e.results){var i=e.results[0],t=$('<input type="checkbox" checked="checked" onclick="return false" name="adds[]" id="find_'+(2==i.type?i.corporationID:i.characterID)+"_"+i.type+'" value="'+(2==i.type?i.corporationID:i.characterID)+"_"+i.type+'" class="selector" /><label for="find_'+(2==i.type?i.corporationID:i.characterID)+"_"+i.type+'" style="width: 100%; margin-left: -5px;">\t<img src="https://image.eveonline.com/'+(2==i.type?"Corporation/"+i.corporationID+"_64.png":"Character/"+i.characterID+"_64.jpg")+'" />\t<span class="selector_label">'+(2==i.type?"Corporation":"Character")+'</span>\t<div class="info">\t\t'+(2!=i.type?i.characterName+"<br/>":"")+"\t\t"+i.corporationName+"<br/>\t\t"+i.allianceName+"\t</div></label>");$("#EVESearchResults").html(t)}else $("#dialog-error #msg").text("No Results"),$("#dialog-error").dialog("open")}).always(function(){$("#EVEsearch #searchSpinner").hide(),$("#EVEsearch input[type='submit']").removeAttr("disabled"),$("#dialog-EVEsearch").parent().find(".ui-dialog-buttonpane button:contains('Add')").removeAttr("disabled").removeClass("ui-state-disabled")})})},close:function(){$("#EVEsearch input[name='name']").val(""),$("#EVESearchResults").html("")}})}}),$("#dialog-options").dialog("open")}),$("#add-signature").click(function(e){e.preventDefault(),$("#dialog-sigAdd").dialog({autoOpen:!1,resizable:!1,minHeight:150,dialogClass:"dialog-noeffect",buttons:{Add:function(){$("#sigAddForm").submit()},Cancel:function(){$(this).dialog("close")}},open:function(){$("#sigAddForm #sigID").val(""),$("#sigAddForm #sigType").val("Sites").selectmenu("refresh").trigger("selectmenuchange"),$("#sigAddForm #sigLife").val(72).selectmenu("refresh"),$("#sigAddForm #sigName").val(""),$("#sigAddForm #whType").val(""),$("#sigAddForm #connection").val(""),$("#sigAddForm #autoAdd")[0].checked=!1,$("#sigAddForm #autoAdd").button("refresh"),$("#sigAddForm #whLife").val("Stable").selectmenu("refresh"),$("#sigAddForm #whMass").val("Stable").selectmenu("refresh"),tripwire.client.EVE&&tripwire.client.EVE.systemName?$("#autoAdd").button("enable"):$("#autoAdd").button("disable")},close:function(){$("th.critical").removeClass("critical"),ValidationTooltips.close()},create:function(){$("#autoAdd").button().click(function(){$("#sigAddForm #connection").val(tripwire.client.EVE.systemName)}),$("#sigAddForm #sigType, #sigAddForm #sigLife").selectmenu({width:100}),$("#sigAddForm #whLife, #sigAddForm #whMass").selectmenu({width:80}),$("#sigAddForm .sigSystemsAutocomplete").inlinecomplete({source:tripwire.aSigSystems,maxSize:10,delay:0}),$("#sigAddForm .typesAutocomplete").inlinecomplete({source:whList,maxSize:10,delay:0}),$("#sigAddForm #whType, #sigAddForm #sigID").blur(function(e){""==this.value&&(this.value="???")}),$("#sigAddForm #whType, #sigAddForm #sigID").focus(function(e){$(this).select()})}}),$("#dialog-sigAdd").dialog("open")}),$("#sigAddForm").submit(function(e){if(e.preventDefault(),$("#sigAddForm #connection").val($("#sigAddForm #connection").val().trim()),$("th.critical").removeClass("critical"),ValidationTooltips.close(),""==$("#sigAddForm #sigID").val()||3!==$("#sigAddForm #sigID").val().length)return $("#sigAddForm #sigID").focus().parent().prev("th").addClass("critical"),void ValidationTooltips.open({target:$("#sigAddForm #sigID")}).setContent("Must be 3 Letters in length!");if("???"!==$("#sigAddForm #sigID").val()){for(var i=$("#sigAddForm #sigID").val().length;i--;)if($("#sigAddForm #sigID").val()[i].toLowerCase()===$("#sigAddForm #sigID").val()[i].toUpperCase())return $("#sigAddForm #sigID").focus().parent().prev("th").addClass("critical"),void ValidationTooltips.open({target:$("#sigAddForm #sigID")}).setContent("Must be only letters!");if(-1!==$.map(tripwire.client.signatures,function(e){return"273.0"!=e.mask||(null==options.chain.active||options.chain.tabs[options.chain.active].evescout)&&null!=options.chain.active?viewingSystemID==e.systemID?e.signatureID:e.sig2ID:null}).indexOf($("#sigAddForm #sigID").val().toUpperCase()))return $("#sigAddForm #sigID").focus().parent().prev("th").addClass("critical"),void ValidationTooltips.open({target:$("#sigAddForm #sigID")}).setContent("Signature ID already exists!")}if("Wormhole"==$("#sigAddForm #sigType").val()&&""==$("#sigAddForm #whType").val())return $("#sigAddForm #whType").focus().parent().prev("th").addClass("critical"),void ValidationTooltips.open({target:$("#sigAddForm #whType")}).setContent("Must specify a wormhole type!");if("Wormhole"==$("#sigAddForm #sigType").val()&&-1==whList.indexOf($("#sigAddForm #whType").val()))return $("#sigAddForm #whType").focus().parent().prev("th").addClass("critical"),void ValidationTooltips.open({target:$("#sigAddForm #whType")}).setContent("Not a valid wormhole type!");if("Wormhole"==$("#sigAddForm #sigType").val()&&$("#sigAddForm #connection").val()&&-1==tripwire.aSigSystems.indexOf($("#sigAddForm #connection").val()))return $("#sigAddForm #connection").focus().parent().prev("th").addClass("critical"),void ValidationTooltips.open({target:$("#sigAddForm #connection")}).setContent("Not a valid leads to system!");var t=$(this).serializeObject();t.systemID=viewingSystemID,t.lifeLength=tripwire.wormholes[t.whType]?tripwire.wormholes[t.whType].life.split(" ")[0]:72,t.class=sigClass(viewingSystem,t.whType),Object.index(tripwire.systems,"name",t.connectionName)&&(t.connectionID=Object.index(tripwire.systems,"name",t.connectionName),t.class2=sigClass(t.connectionName,null),t.connectionName=null);var a={request:{signatures:{add:t}}};$("#sigAddForm input[type=submit]").attr("disabled",!0),$("#dialog-sigAdd").parent().find(":button:contains('Add')").button("disable");tripwire.refresh("refresh",a,function(e){if(1==e.result){$("#dialog-sigAdd").dialog("close"),$("#undo").removeClass("disabled");var i=$.map(e.resultSet,function(i){return e.signatures[i]});viewingSystemID in tripwire.signatures.undo?tripwire.signatures.undo[viewingSystemID].push({action:"add",signatures:i}):tripwire.signatures.undo[viewingSystemID]=[{action:"add",signatures:i}],sessionStorage.setItem("tripwire_undo",JSON.stringify(tripwire.signatures.undo))}},function(e){$("#sigAddForm input[type=submit]").removeAttr("disabled"),$("#dialog-sigAdd").parent().find(":button:contains('Add')").button("enable")})}),$("#add-signature2").click(function(e){e.preventDefault(),$("#dialog-signature").hasClass("ui-dialog-content")?$("#dialog-signature").dialog("isOpen")||$("#dialog-signature").dialog("open"):$("#dialog-signature").dialog({autoOpen:!0,resizable:!1,dialogClass:"dialog-noeffect ui-dialog-shadow",position:{my:"center",at:"center",of:$("#signaturesWidget")},buttons:{Add:function(){$("#form-signature").submit()},Cancel:function(){$(this).dialog("close")}},create:function(){var e=$.map(tripwire.wormholes,function(e,i){return i});e.splice(26,0,"K162"),e.push("GATE"),$("#dialog-signature [name='signatureType'], #dialog-signature [name='signatureLife']").selectmenu({width:100}),$("#dialog-signature [name='wormholeLife'], #dialog-signature [name='wormholeMass']").selectmenu({width:80}),$("#dialog-signature [data-autocomplete='sigSystems']").inlinecomplete({source:tripwire.aSigSystems,maxSize:10,delay:0}),$("#dialog-signature [data-autocomplete='sigType']").inlinecomplete({source:e,maxSize:10,delay:0}),$("#dialog-signature #durationPicker").durationPicker(),$("#dialog-signature [name='signatureID_A_Alpha'], #dialog-signature [name='signatureID_B_Alpha']").on("input",function(){for(;!/^[a-zA-Z?]*$/g.test(this.value);)this.value=this.value.substring(0,this.value.length-1)}),$("#dialog-signature [name='signatureID_A_Numeric'], #dialog-signature [name='signatureID_B_Numeric']").on("input",function(){for(;!/^[0-9?]*$/g.test(this.value);)this.value=this.value.substring(0,this.value.length-1)}),$("#dialog-signature .signatureID, #dialog-signature .wormholeType").on("click",function(){$(this).select()}),$("#dialog-signature .wormholeType").on("input, change",function(){$(this).val().length>0&&-1!=$.inArray($(this).val(),e)&&"K162"!=$(this).val()&&($("#dialog-signature .wormholeType").not(this).val("K162"),$("#dialog-signature #durationPicker").val(60*tripwire.wormholes[$(this).val()].life.substring(0,2)*60).change())}),$("#dialog-signature").on("selectmenuchange","[name='signatureType']",function(){"wormhole"==this.value?($("#dialog-signature #site").slideUp(200,function(){$(this).hide(0)}),$("#dialog-signature #wormhole").slideDown(200,function(){$(this).show(200)})):($("#dialog-signature #site").slideDown(200,function(){$(this).show(200)}),$("#dialog-signature #wormhole").slideUp(200,function(){$(this).hide(0)})),ValidationTooltips.close()}),$("#form-signature").submit(function(i){i.preventDefault();var t=$(this).serializeObject(),a=!0;return ValidationTooltips.close(),$.each($("#dialog-signature .signatureID:visible"),function(){if($(this).val().length>0&&$(this).val().length<3)return ValidationTooltips.open({target:$(this)}).setContent("Must be 3 characters in length!"),$(this).select(),a=!1,!1}),!!a&&(!isNaN(parseInt($("#dialog-signature #durationPicker").val()))&&parseInt($("#dialog-signature #durationPicker").val())>=300?($.each($("#dialog-signature .wormholeType:visible"),function(){if($(this).val().length>0&&-1==$.inArray($(this).val(),e))return ValidationTooltips.open({target:$(this)}).setContent("Must be a valid wormhole type!"),$(this).select(),a=!1,!1}),!!a&&($("#dialog-signature .leadsTo:visible")[0]&&-1==$.inArray($("#dialog-signature .leadsTo:visible:first").val(),tripwire.aSigSystems)?(ValidationTooltips.open({target:$("#dialog-signature .leadsTo:visible:first")}).setContent("Must be a valid leads to system!"),$(this).select(),!1):($.each($("#dialog-signature .leadsTo:visible"),function(){if($(this).val().length>0&&-1==$.inArray($(this).val(),tripwire.aSigSystems))return ValidationTooltips.open({target:$(this)}).setContent("Must be a valid leads to system!"),$(this).select(),a=!1,!1}),!!a&&(console.log(t),void $.ajax({url:"signatures2.php",method:"POST",data:t,dataType:"JSON"}).always(function(e){console.log(e)}))))):(ValidationTooltips.open({target:$("#dialog-signature #durationPicker + .bdp-input")}).setContent("Must be at least 5 minutes!"),$("#dialog-signature #durationPicker").select(),!1))})},open:function(){$("#dialog-signature input").val(""),$("#dialog-signature [name='signatureType']").val("combat").selectmenu("refresh"),$("#dialog-signature #site").show(),$("#dialog-signature #wormhole").hide(),$("#dialog-signature .sideLabel:first").html(viewingSystem+" Side"),$("#dialog-signature .sideLabel:last").html("Other Side"),$("#dialog-signature #durationPicker").val(60*options.signatures.pasteLife*60).change()},close:function(){ValidationTooltips.close()}})}),$("#sigTable").on("click",".sigEdit",openSigEdit),$("#sigTable tbody").on("dblclick","tr",openSigEdit),$("#sigEditForm").submit(function(e){if(e.preventDefault(),$("#sigEditForm #connection").val($("#sigEditForm #connection").val().trim()),$("th.critical").removeClass("critical"),ValidationTooltips.close(),""==$("#sigEditForm #sigID").val()||3!==$("#sigEditForm #sigID").val().length)return $("#sigEditForm #sigID").focus().parent().prev("th").addClass("critical"),void ValidationTooltips.open({target:$("#sigEditForm #sigID")}).setContent("Must be 3 letters in length!");if("???"!==$("#sigEditForm #sigID").val()){for(var i=$("#sigEditForm #sigID").val().length;i--;)if($("#sigEditForm #sigID").val()[i].toLowerCase()===$("#sigEditForm #sigID").val()[i].toUpperCase())return $("#sigEditForm #sigID").focus().parent().prev("th").addClass("critical"),void ValidationTooltips.open({target:$("#sigEditForm #sigID")}).setContent("Must be only letters!");if($("#sigEditForm #sigID").val().toUpperCase()!==(viewingSystemID==tripwire.client.signatures[$(this).data("id")].systemID?tripwire.client.signatures[$(this).data("id")].signatureID:tripwire.client.signatures[$(this).data("id")].sig2ID)&&-1!==$.map(tripwire.client.signatures,function(e){return"273.0"!=e.mask||(null==options.chain.active||options.chain.tabs[options.chain.active].evescout)&&null!=options.chain.active?viewingSystemID==e.systemID?e.signatureID:e.sig2ID:null}).indexOf($("#sigEditForm #sigID").val().toUpperCase()))return $("#sigEditForm #sigID").focus().parent().prev("th").addClass("critical"),ValidationTooltips.open({target:$("#sigEditForm #sigID")}).setContent("Signature ID already exists! <input type='button' autofocus='true' id='overwrite' value='Overwrite' style='margin-bottom: -4px; margin-top: -4px; font-size: 0.8em;' data-id='"+$("#sigTable tr:has(td:first-child:contains("+$("#sigEditForm #sigID").val().toUpperCase()+"))").data("id")+"' />"),void $("#overwrite").focus()}if("Wormhole"==$("#sigEditForm #sigType").val()&&""==$("#sigEditForm #whType").val())return $("#sigEditForm #whType").focus().parent().prev("th").addClass("critical"),void ValidationTooltips.open({target:$("#sigEditForm #whType")}).setContent("Must specify a wormhole type!");if("Wormhole"==$("#sigEditForm #sigType").val()&&-1==whList.indexOf($("#sigEditForm #whType").val()))return $("#sigEditForm #whType").focus().parent().prev("th").addClass("critical"),void ValidationTooltips.open({target:$("#sigEditForm #whType")}).setContent("Not a valid wormhole type!");if("Wormhole"==$("#sigEditForm #sigType").val()&&$("#sigEditForm #connection").val()&&-1==tripwire.aSigSystems.indexOf($("#sigEditForm #connection").val()))return $("#sigEditForm #connection").focus().parent().prev("th").addClass("critical"),void ValidationTooltips.open({target:$("#sigEditForm #connection")}).setContent("Not a valid leads to system!");var t=$(this).serializeObject();t.id=$(this).data("id"),t.systemID=viewingSystemID,tripwire.wormholes[t.whType]?t.lifeLength=tripwire.wormholes[t.whType].life.split(" ")[0]:"parent"==t.side?t.lifeLength=tripwire.wormholes[tripwire.client.signatures[t.id].sig2Type]?tripwire.wormholes[tripwire.client.signatures[t.id].sig2Type].life.split(" ")[0]:t.lifeLength:t.lifeLength=tripwire.wormholes[tripwire.client.signatures[t.id].type]?tripwire.wormholes[tripwire.client.signatures[t.id].type].life.split(" ")[0]:t.lifeLength,t.connectionID=t.connectionName?Object.index(tripwire.systems,"name",t.connectionName)||null:null,t.connectionName=t.connectionID?"parent"==t.side?tripwire.client.signatures[t.id].connectionID>0?tripwire.client.signatures[t.id].connection:null:tripwire.client.signatures[t.id].systemID>0?tripwire.client.signatures[t.id].system:null:t.connectionName,t.whLife=tripwire.client.signatures[t.id].life!=t.whLife?t.whLife:null,t.whLife=tripwire.client.signatures[t.id].life?t.whLife:"New "+t.whLife,t.sig2ID="parent"==t.side?tripwire.client.signatures[t.id].sig2ID:tripwire.client.signatures[t.id].signatureID,t.sig2Type="parent"==t.side?tripwire.client.signatures[t.id].sig2Type:tripwire.client.signatures[t.id].type,t.class=sigClass(viewingSystem,t.sig2Type),t.class2=sigClass(t.connectionID?tripwire.systems[t.connectionID].name:null,t.whType);var a={request:{signatures:{update:t}}},s=[tripwire.client.signatures[t.id]];$("#sigEditForm input[type=submit]").attr("disabled",!0),$("#dialog-sigEdit").parent().find(":button:contains('Save')").button("disable");tripwire.refresh("refresh",a,function(e){1==e.result&&($("#dialog-sigEdit").dialog("close"),$("#undo").removeClass("disabled"),viewingSystemID in tripwire.signatures.undo?tripwire.signatures.undo[viewingSystemID].push({action:"update",signatures:s}):tripwire.signatures.undo[viewingSystemID]=[{action:"update",signatures:s}],sessionStorage.setItem("tripwire_undo",JSON.stringify(tripwire.signatures.undo)))},function(e){$("#sigEditForm input[type=submit]").removeAttr("disabled"),$("#dialog-sigEdit").parent().find(":button:contains('Save')").button("enable")})});
//# sourceMappingURL=app.min.js.map
